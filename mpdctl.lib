#!/usr/bin/env bash
#
# ############################################################################
# Project: scripts (none)
# File...: mpdctl.lib
# Created: Thursday, 2023/07/20 - 00:02:53
# Author.: @fbnmtz, (fabiano.matoz@gmail.com)
# ~·~·~·~·~·~·~·~·~·~·~·~·~~·~·~·~·~·~·~·~·~·~·~·~·~~·~·~·~·~·~~·~·~·~·~·~·~·~
# Last Modified: Saturday, 2023/07/22 - 13:44:35
# Modified By..: @fbnmtz, (fabiano.matoz@gmail.com)
# ~·~·~·~·~·~·~·~·~·~·~·~·~~·~·~·~·~·~·~·~·~·~·~·~·~~·~·~·~·~·~~·~·~·~·~·~·~·~
# Version: 0.0.2.90
# ~·~·~·~·~·~·~·~·~·~·~·~·~~·~·~·~·~·~·~·~·~·~·~·~·~~·~·~·~·~·~~·~·~·~·~·~·~·~
# Description: 
#  >
# ############################################################################
# HISTORY:
#

_xLIB_MPDCTL_=true

mUpdate(){
  mpc update --wait; mpc rescan --wait
}

mPlayAll(){
  mpc listall | mpc add; mpc play
}

mListPlay(){
  local music=$(mpc playlist | rofi -dmenu -i  -format "d%s" \ -p "Select one Music"); 
  if [ -n "$music" ]; then 
    local index=$(echo "$music" | cut -d '%' -f1) 
    echo "$music";
    echo $index
    mpc play "$index"
  fi
}

mLoad(){
  local menu="clear\nall\n"
  menu+=$(mpc lsplaylists)
  choice=$(echo -e "$menu" | rofi -dmenu -i -p "Playlist Functions")

  if [ -n "$choice" ]; then
    case "$choice" in
      clear) mpc clear ;;
      all  ) mpc listall | mpc add ;;
      *    ) mpc clear && mpc load "$choice" && mpc play ;;
    esac
  fi
}